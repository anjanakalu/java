# Comprehensive Lodash Guide: From Beginner to Practical

## Section 1: Beginner-Friendly Lodash Examples

### Sample Data
```javascript
const employees = [
  {
    "first_name": "John",
    "last_name": "Doe",
    "email": "john.doe@example.com",
    "gender": "Male",
    "salary": "$5000.00"
  },
  {
    "first_name": "Jane",
    "last_name": "Smith",
    "email": "jane.smith@example.com",
    "gender": "Female",
    "salary": "$6000.00"
  },
  {
    "first_name": "Alex",
    "last_name": "Johnson",
    "email": "alex.j@example.com",
    "gender": "Non-binary",
    "salary": "$5500.00"
  },
  {
    "first_name": "Emily",
    "last_name": "Brown",
    "email": "emily.b@example.com",
    "gender": "Female",
    "salary": "$6500.00"
  },
  {
    "first_name": "Michael",
    "last_name": "Davis",
    "email": "michael.d@example.com",
    "gender": "Male",
    "salary": "$5200.00"
  }
];
```

### Example 1: Count by Gender
**Method:** `_.countBy()`  
**Purpose:** Creates an object composed of keys generated from the results of running each element of collection through the iteratee.
```javascript
const genderCount = _.countBy(employees, 'gender');
// Output: { Male: 2, Female: 2, 'Non-binary': 1 }
```

### Example 2: Group by Gender
**Method:** `_.groupBy()`  
**Purpose:** Creates an object composed of keys generated from the results of running each element of collection through the iteratee.
```javascript
const groupedByGender = _.groupBy(employees, 'gender');
/* Output:
{
  Male: [ {first_name: 'John', ...}, {first_name: 'Michael', ...} ],
  Female: [ {first_name: 'Jane', ...}, {first_name: 'Emily', ...} ],
  'Non-binary': [ {first_name: 'Alex', ...} ]
}
*/
```

### Example 3: Find Top 3 Highest Paid Employees
**Methods:** 
- `_.orderBy()`: Sorts array by specified fields and orders
- `_.take()`: Creates a slice of array with n elements taken from the beginning
- `_.map()`: Creates an array of values by running each element in collection through the iteratee

```javascript
const sortedBySalary = _.orderBy(employees, emp => parseFloat(emp.salary.replace('$', '')), 'desc');
const top3 = _.take(sortedBySalary, 3);
const top3Names = _.map(top3, 'first_name');
// Output: [ 'Emily', 'Jane', 'Alex' ]
```

### Example 4: Calculate Total Salary
**Method:** `_.reduce()`  
**Purpose:** Reduces collection to a value which is the accumulated result of running each element in collection through the iteratee.
```javascript
const totalSalary = _.reduce(employees, (sum, emp) => sum + parseFloat(emp.salary.replace('$', '')), 0);
// Output: 28200
```

### Example 5: Calculate Total Salary by Gender
**Methods:** 
- `_.groupBy()`: Groups collection by specified key
- `_.mapValues()`: Creates an object with the same keys as object and values generated by running each own enumerable property through the iteratee
- `_.reduce()`: As above

```javascript
const grouped = _.groupBy(employees, 'gender');
const salaryByGender = _.mapValues(grouped, group => 
  _.reduce(group, (sum, emp) => sum + parseFloat(emp.salary.replace('$', '')), 0)
);
// Output: { Male: 10200, Female: 12500, 'Non-binary': 5500 }
```

---

## Section 2: Practical Lodash Examples for Backend Development

### Extended Employee Data
```javascript
const employees = [
  {
    id: 1,
    first_name: "John",
    last_name: "Doe",
    email: "john.doe@example.com",
    gender: "Male",
    department: "Engineering",
    salary: "$8500.00",
    hire_date: "2020-06-15",
    skills: ["JavaScript", "Node.js", "SQL"],
    projects: [
      { id: 101, name: "API Migration", hours_spent: 120 },
      { id: 102, name: "Database Optimization", hours_spent: 80 }
    ]
  },
  // ... more employees
];
```

### 1. Data Aggregation (Department Statistics)
**Methods:** `_.chain()`, `_.groupBy()`, `_.mapValues()`, `_.meanBy()`, `_.round()`
```javascript
const departmentStats = _.chain(employees)
  .groupBy('department')
  .mapValues(dept => ({
    count: dept.length,
    avgSalary: _.round(_.meanBy(dept, e => parseFloat(e.salary.replace('$', ''))), 2)
  }))
  .value();
```

### 2. Data Validation & Cleaning
**Methods:** `_.map()`, `_.pick()`, `_.castArray()`
```javascript
const cleanedEmployees = _.map(employees, emp => ({
  ..._.pick(emp, ['id', 'first_name', 'last_name', 'email', 'department']),
  salary: parseFloat(emp.salary.replace('$', '')),
  hire_date: new Date(emp.hire_date),
  skills: _.castArray(emp.skills || [])
}));
```

### 3. Pagination Implementation
**Methods:** `_.slice()`
```javascript
function paginate(items, page = 1, pageSize = 10) {
  const start = (page - 1) * pageSize;
  return {
    data: _.slice(items, start, start + pageSize),
    total: items.length,
    page,
    pageSize,
    totalPages: Math.ceil(items.length / pageSize)
  };
}
```

### 4. Complex Filtering (API Filters)
**Methods:** `_.chain()`, `_.filter()`, `_.every()`, `_.includes()`
```javascript
function filterEmployees(queryParams) {
  return _.chain(employees)
    .filter(emp => _.every([
      queryParams.department ? emp.department === queryParams.department : true,
      queryParams.minSalary ? parseFloat(emp.salary.replace('$', '')) >= parseFloat(queryParams.minSalary) : true,
      queryParams.skill ? _.includes(emp.skills, queryParams.skill) : true
    ]))
    .value();
}
```

### 5. Nested Data Transformations
**Methods:** `_.flatMap()`, `_.sumBy()`
```javascript
const allProjects = _.flatMap(employees, emp => 
  _.map(emp.projects, project => ({
    ...project,
    employee_id: emp.id,
    employee_name: `${emp.first_name} ${emp.last_name}`
  }))
);
```

### 6. Performance Optimization
**Methods:** `_.keyBy()`, `_.memoize()`
```javascript
const employeeById = _.keyBy(employees, 'id');
const calculateDepartmentStats = _.memoize(department => {
  return _.chain(employees)
    .filter({ department })
    .thru(emps => ({
      count: emps.length,
      totalSalary: _.sumBy(emps, e => parseFloat(e.salary.replace('$', '')))
    }))
    .value();
});
```

### 7. Data Export Preparation
**Methods:** `_.map()`, `_.join()`
```javascript
const csvData = _.map(employees, emp => ({
  ID: emp.id,
  Name: `${emp.first_name} ${emp.last_name}`,
  Department: emp.department,
  Salary: emp.salary,
  Skills: _.join(emp.skills, ', ')
}));
```

## Key Differences Between Sections:

| Feature               | Beginner Section | Practical Section |
|-----------------------|------------------|-------------------|
| Data Complexity       | Simple objects   | Nested structures |
| Method Chaining       | Minimal          | Extensive         |
| Real-world Scenarios  | Basic examples   | Backend solutions |
| Performance Concerns  | Not covered      | Optimized         |
| Error Handling        | Simple           | Robust            |
| Data Transformation   | Single-step      | Multi-step        |

This comprehensive guide progresses from fundamental Lodash concepts to practical backend implementations, helping developers at all levels leverage Lodash effectively.
